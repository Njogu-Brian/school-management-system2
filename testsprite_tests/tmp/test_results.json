[
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "7bd6dff3-7d61-4ebb-af1f-7e2f78b467fe",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC001-user login functionality",
    "description": "Test the /login POST endpoint to verify user authentication with valid and invalid credentials, including email and password validation, and the remember option.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:8000\"\nAUTH_USERNAME = \"b.njogu@royalkingsschools.sc.ke\"\nAUTH_PASSWORD = \"sRb8s3AAnkYxJ8q\"\nTIMEOUT = 30\n\ndef test_user_login_functionality():\n    headers = {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n    }\n\n    # Valid credentials test with remember=True\n    valid_payload = {\n        \"email\": AUTH_USERNAME,\n        \"password\": AUTH_PASSWORD,\n        \"remember\": True\n    }\n    try:\n        response = requests.post(\n            f\"{BASE_URL}/login\",\n            json=valid_payload,\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        response.raise_for_status()\n        assert response.status_code == 200, f\"Expected status code 200 but got {response.status_code}\"\n    except requests.RequestException as e:\n        assert False, f\"Request failed for valid credentials: {e}\"\n\n    # Valid credentials test with remember=False\n    valid_payload[\"remember\"] = False\n    try:\n        response = requests.post(\n            f\"{BASE_URL}/login\",\n            json=valid_payload,\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        response.raise_for_status()\n        assert response.status_code == 200, f\"Expected status code 200 but got {response.status_code}\"\n    except requests.RequestException as e:\n        assert False, f\"Request failed for valid credentials with remember=False: {e}\"\n\n    # Invalid credentials test (wrong password)\n    invalid_payload = {\n        \"email\": AUTH_USERNAME,\n        \"password\": \"WrongPassword123!\",\n        \"remember\": True\n    }\n    try:\n        response = requests.post(\n            f\"{BASE_URL}/login\",\n            json=invalid_payload,\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        # Expecting failure, typically 401 or 400\n        assert response.status_code in (400, 401), f\"Expected 400 or 401 for invalid credentials but got {response.status_code}\"\n    except requests.RequestException:\n        # A network exception could be OK here since we expect failure, but log as assert fail.\n        assert False, \"Request failed unexpectedly on invalid credentials test\"\n\n    # Invalid email format test\n    invalid_email_payload = {\n        \"email\": \"invalid-email-format\",\n        \"password\": AUTH_PASSWORD,\n        \"remember\": True\n    }\n    try:\n        response = requests.post(\n            f\"{BASE_URL}/login\",\n            json=invalid_email_payload,\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        # API might reject with 400 for invalid email format\n        assert response.status_code in (400, 422), f\"Expected 400 or 422 for invalid email format but got {response.status_code}\"\n    except requests.RequestException:\n        assert False, \"Request failed unexpectedly on invalid email format test\"\n\n    # Missing password test\n    missing_password_payload = {\n        \"email\": AUTH_USERNAME,\n        \"remember\": True\n    }\n    try:\n        response = requests.post(\n            f\"{BASE_URL}/login\",\n            json=missing_password_payload,\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        assert response.status_code in (400, 422), f\"Expected 400 or 422 for missing password but got {response.status_code}\"\n    except requests.RequestException:\n        assert False, \"Request failed unexpectedly on missing password test\"\n\n    # Missing email test\n    missing_email_payload = {\n        \"password\": AUTH_PASSWORD,\n        \"remember\": True\n    }\n    try:\n        response = requests.post(\n            f\"{BASE_URL}/login\",\n            json=missing_email_payload,\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        assert response.status_code in (400, 422), f\"Expected 400 or 422 for missing email but got {response.status_code}\"\n    except requests.RequestException:\n        assert False, \"Request failed unexpectedly on missing email test\"\n\ntest_user_login_functionality()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"<string>\", line 27, in test_user_login_functionality\n  File \"/var/task/requests/models.py\", line 1024, in raise_for_status\n    raise HTTPError(http_error_msg, response=self)\nrequests.exceptions.HTTPError: 419 Client Error: unknown status for url: http://localhost:8000/login\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 115, in <module>\n  File \"<string>\", line 30, in test_user_login_functionality\nAssertionError: Request failed for valid credentials: 419 Client Error: unknown status for url: http://localhost:8000/login\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:04.992Z",
    "modified": "2026-01-22T07:28:56.702Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "344705af-56d3-464c-b6a9-398fb9ad1e4d",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC002-user logout functionality",
    "description": "Test the /logout POST endpoint to ensure users can successfully log out and invalidate their session or token.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:8000\"\nUSERNAME = \"b.njogu@royalkingsschools.sc.ke\"\nPASSWORD = \"sRb8s3AAnkYxJ8q\"\nTIMEOUT = 30\n\ndef test_user_logout_functionality():\n    # First, login to get token\n    login_url = f\"{BASE_URL}/login\"\n    login_payload = {\n        \"email\": USERNAME,\n        \"password\": PASSWORD\n    }\n    headers = {\n        \"Content-Type\": \"application/json\"\n    }\n    try:\n        login_response = requests.post(login_url, json=login_payload, headers=headers, timeout=TIMEOUT)\n        assert login_response.status_code == 200, f\"Login failed with status code {login_response.status_code}\"\n        # Extract token from response\n        login_data = login_response.json()\n        token = None\n        # Common practice is bearer token or token key in json; assume 'token' key or 'access_token' key\n        if \"token\" in login_data:\n            token = login_data[\"token\"]\n        elif \"access_token\" in login_data:\n            token = login_data[\"access_token\"]\n        else:\n            # try 'data' key or similar\n            token = login_data.get(\"data\", {}).get(\"token\")\n        assert token, \"No auth token retrieved after login\"\n\n        # Now logout using token in Authorization header\n        logout_url = f\"{BASE_URL}/logout\"\n        auth_headers = {\n            \"Authorization\": f\"Bearer {token}\",\n            \"Content-Type\": \"application/json\"\n        }\n        logout_response = requests.post(logout_url, headers=auth_headers, timeout=TIMEOUT)\n        assert logout_response.status_code == 200, f\"Logout failed with status code {logout_response.status_code}\"\n\n        # Optionally check something in response body for confirmation\n        logout_json = logout_response.json()\n        # The spec does not define response body; just ensure success\n        assert logout_json is not None, \"No response body from logout\"\n\n        # Verify token is invalidated by attempting to use it for a secured endpoint\n        profile_url = f\"{BASE_URL}/user\"\n        profile_response = requests.get(profile_url, headers=auth_headers, timeout=TIMEOUT)\n        # Should fail due to invalid token; check for 401 or 403\n        assert profile_response.status_code in (401, 403), \"Token still valid after logout\"\n\n    except requests.RequestException as e:\n        assert False, f\"Request failed: {e}\"\n\ntest_user_logout_functionality()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 57, in <module>\n  File \"<string>\", line 20, in test_user_logout_functionality\nAssertionError: Login failed with status code 419\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.002Z",
    "modified": "2026-01-22T07:27:59.657Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "70a5cb38-6dda-4d3b-ba52-15be422a86df",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC003-password reset via email",
    "description": "Test the /password/email POST endpoint to verify that users can request a password reset link via email and handle invalid or unregistered email addresses.",
    "code": "import requests\n\ndef test_password_reset_via_email():\n    base_url = \"http://localhost:8000\"\n    endpoint = \"/password/email\"\n    url = base_url + endpoint\n    headers = {\n        \"Content-Type\": \"application/json\",\n        \"Accept\": \"application/json\"\n    }\n    timeout = 30\n\n    # Test with a valid registered email (assuming this email is registered)\n    valid_email_payload = {\"email\": \"b.njogu@royalkingsschools.sc.ke\"}\n    try:\n        response = requests.post(url, json=valid_email_payload, headers=headers, timeout=timeout)\n        assert response.status_code in [200, 202], f\"Expected success status code for registered email, got {response.status_code}\"\n        # The response might not have content or may just confirm sending\n    except requests.RequestException as e:\n        assert False, f\"Request failed for valid email: {e}\"\n\n    # Test with an invalid email format\n    invalid_email_payload = {\"email\": \"invalid-email-format\"}\n    try:\n        response = requests.post(url, json=invalid_email_payload, headers=headers, timeout=timeout)\n        # Expecting client error (e.g. 422 Unprocessable Entity or 400 Bad Request)\n        assert response.status_code >= 400 and response.status_code < 500, f\"Expected client error for invalid email format, got {response.status_code}\"\n        # Optionally validate response JSON error message presence\n        resp_json = response.json()\n        assert \"email\" in resp_json.get(\"errors\", {}) or \"message\" in resp_json, \"Expected validation error related to email\"\n    except requests.RequestException as e:\n        assert False, f\"Request failed for invalid email: {e}\"\n    except ValueError:\n        # Response not JSON\n        pass\n\n    # Test with an unregistered but valid email format\n    unregistered_email_payload = {\"email\": \"unregistered.email@example.com\"}\n    try:\n        response = requests.post(url, json=unregistered_email_payload, headers=headers, timeout=timeout)\n        # Depending on system design, could be 200/202 to avoid user enumeration or 404/400 for error\n        # Assert no sensitive info returned and response code is either success or handled error\n        assert response.status_code in [200, 202, 400, 404], f\"Unexpected status code for unregistered email, got {response.status_code}\"\n    except requests.RequestException as e:\n        assert False, f\"Request failed for unregistered email: {e}\"\n\ntest_password_reset_via_email()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 47, in <module>\n  File \"<string>\", line 17, in test_password_reset_via_email\nAssertionError: Expected success status code for registered email, got 419\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.009Z",
    "modified": "2026-01-22T07:28:53.912Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "e5a06ba7-3fde-43e2-b5d9-b91ca194d362",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC004-password reset via otp",
    "description": "Test the /password/otp POST endpoint to verify that users can request a password reset using OTP sent to their phone number and handle invalid or unregistered phone numbers.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:8000\"\nTIMEOUT = 30\n\ndef test_password_reset_via_otp():\n    url = f\"{BASE_URL}/password/otp\"\n    headers = {\n        \"Content-Type\": \"application/json\"\n    }\n\n    # Test case 1: Valid registered phone number (example format)\n    valid_phone_payload = {\"phone\": \"+254712345678\"}\n    try:\n        response = requests.post(url, json=valid_phone_payload, headers=headers, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request failed for valid phone number: {e}\"\n\n    # Accept 200 or 404 because the phone might not exist in test environment\n    assert response.status_code in (200, 404), f\"Expected 200 or 404 for valid phone but got {response.status_code}\"\n    json_resp = response.json()\n    assert isinstance(json_resp, dict), \"Response is not a JSON object\"\n    if response.status_code == 200:\n        assert \"message\" in json_resp or \"status\" in json_resp, \"No success indication in response for valid phone\"\n    else:\n        # 404 case, check for error indication\n        message = json_resp.get(\"message\", \"\").lower()\n        errors = json_resp.get(\"errors\", {})\n        assert (\"unregistered\" in message) or (\"phone\" in errors) or (\"not found\" in message), \\\n            \"Expected error indication for unregistered phone\"\n\n    # Test case 2: Invalid phone number format\n    invalid_phone_payload = {\"phone\": \"123-invalid-phone\"}\n    try:\n        response = requests.post(url, json=invalid_phone_payload, headers=headers, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request failed for invalid phone number: {e}\"\n\n    assert response.status_code in (400, 422), f\"Expected client error for invalid phone, got {response.status_code}\"\n    json_resp = response.json()\n    assert isinstance(json_resp, dict), \"Response is not a JSON object for invalid phone\"\n    assert \"errors\" in json_resp or \"message\" in json_resp, \"Expected error message for invalid phone\"\n\n    # Test case 3: Unregistered phone number (valid format but not in system)\n    unregistered_phone_payload = {\"phone\": \"+254700000000\"}\n    try:\n        response = requests.post(url, json=unregistered_phone_payload, headers=headers, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Request failed for unregistered phone number: {e}\"\n\n    # Accept 200 or 404 depending on implementation\n    assert response.status_code in (200, 404), f\"Unexpected status code for unregistered phone: {response.status_code}\"\n    json_resp = response.json()\n    assert isinstance(json_resp, dict), \"Response is not a JSON object for unregistered phone\"\n    if response.status_code == 200:\n        message = json_resp.get(\"message\", \"\").lower()\n        errors = json_resp.get(\"errors\", {})\n        assert (\"unregistered\" in message) or (\"phone\" in errors) or (\"not found\" in message), \\\n            \"Expected error indication for unregistered phone\"\n\n\ntest_password_reset_via_otp()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/requests/models.py\", line 974, in json\n    return complexjson.loads(self.text, **kwargs)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/__init__.py\", line 514, in loads\n    return _default_decoder.decode(s)\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 386, in decode\n    obj, end = self.raw_decode(s)\n               ^^^^^^^^^^^^^^^^^^\n  File \"/var/lang/lib/python3.12/site-packages/simplejson/decoder.py\", line 416, in raw_decode\n    return self.scan_once(s, idx=_w(s, idx).end())\n           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^\nsimplejson.errors.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n\nDuring handling of the above exception, another exception occurred:\n\nTraceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 62, in <module>\n  File \"<string>\", line 21, in test_password_reset_via_otp\n  File \"/var/task/requests/models.py\", line 978, in json\n    raise RequestsJSONDecodeError(e.msg, e.doc, e.pos)\nrequests.exceptions.JSONDecodeError: Expecting value: line 1 column 1 (char 0)\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.015Z",
    "modified": "2026-01-22T07:29:18.698Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "2b9dfbdb-3a7c-499f-acfa-5db76486c062",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC005-get current user profile",
    "description": "Test the /user GET endpoint to retrieve the authenticated user's profile information, ensuring proper authentication and authorization.",
    "code": "import requests\n\ndef test_get_current_user_profile():\n    base_url = \"http://localhost:8000\"\n\n    login_url = base_url + \"/login\"\n    user_url = base_url + \"/user\"\n\n    email = \"b.njogu@royalkingsschools.sc.ke\"\n    password = \"sRb8s3AAnkYxJ8q\"\n\n    headers = {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    }\n\n    # Step 1: Login to get auth token\n    login_payload = {\n        \"email\": email,\n        \"password\": password\n    }\n\n    try:\n        login_response = requests.post(login_url, json=login_payload, headers=headers, timeout=30)\n    except requests.RequestException as e:\n        assert False, f\"Login request failed: {e}\"\n\n    assert login_response.status_code == 200, f\"Expected login status code 200, got {login_response.status_code}\"\n\n    try:\n        login_data = login_response.json()\n    except ValueError:\n        assert False, \"Login response is not a valid JSON\"\n\n    # The PRD doesn't specify exact login response format, but typically token is returned\n    # We'll try to get token from 'token' field\n    token = login_data.get('token') or login_data.get('access_token') or login_data.get('data', {}).get('token')\n    assert token, \"Authentication token not found in login response\"\n\n    auth_headers = {\n        \"Accept\": \"application/json\",\n        \"Authorization\": f\"Bearer {token}\"\n    }\n\n    # Step 2: Get current user profile\n    try:\n        response = requests.get(user_url, headers=auth_headers, timeout=30)\n    except requests.RequestException as e:\n        assert False, f\"Get user profile request failed: {e}\"\n\n    assert response.status_code == 200, f\"Expected status code 200, got {response.status_code}\"\n\n    try:\n        user_data = response.json()\n    except ValueError:\n        assert False, \"User profile response is not a valid JSON\"\n\n    assert isinstance(user_data, dict), \"User profile response should be a JSON object\"\n    for field in [\"id\", \"email\", \"name\", \"roles\"]:\n        assert field in user_data, f\"Missing expected field '{field}' in user profile response\"\n\ntest_get_current_user_profile()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 62, in <module>\n  File \"<string>\", line 28, in test_get_current_user_profile\nAssertionError: Expected login status code 200, got 419\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.022Z",
    "modified": "2026-01-22T07:29:03.365Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "d844c3ac-2b07-45de-abfa-1de3017d5967",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC006-get students list with filters",
    "description": "Test the /students GET endpoint to retrieve a list of students with various filters such as search keyword, class_id, and category_id, including pagination.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:8000\"\nEMAIL = \"b.njogu@royalkingsschools.sc.ke\"\nPASSWORD = \"sRb8s3AAnkYxJ8q\"\nTIMEOUT = 30\n\nsession = requests.Session()\n\n\ndef get_auth_token():\n    url = f\"{BASE_URL}/login\"\n    headers = {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\",\n        \"X-Requested-With\": \"XMLHttpRequest\"\n    }\n    payload = {\"email\": EMAIL, \"password\": PASSWORD}\n    try:\n        response = session.post(url, json=payload, headers=headers, timeout=TIMEOUT)\n    except requests.RequestException as e:\n        assert False, f\"Login request failed: {e}\"\n    assert response.status_code == 200, f\"Login failed with status {response.status_code}: {response.text}\"\n    data = response.json()\n    assert 'token' in data or 'access_token' in data, \"Login response missing auth token\"\n    token = data.get('token') or data.get('access_token')\n    assert isinstance(token, str) and token, \"Invalid auth token\"\n    return token\n\n\ndef test_get_students_list_with_filters():\n    token = get_auth_token()\n    headers = {\n        \"Accept\": \"application/json\",\n        \"Authorization\": f\"Bearer {token}\"\n    }\n\n    filter_tests = [\n        {},\n        {\"search\": \"John\"},\n        {\"class_id\": 1},\n        {\"category_id\": 2},\n        {\"search\": \"Anna\", \"class_id\": 3},\n        {\"search\": \"Mike\", \"category_id\": 4},\n        {\"class_id\": 2, \"category_id\": 5},\n        {\"search\": \"Grace\", \"class_id\": 1, \"category_id\": 1},\n        {\"page\": 1, \"per_page\": 5},\n        {\"search\": \"a\", \"page\": 2, \"per_page\": 10}\n    ]\n\n    for params in filter_tests:\n        try:\n            response = session.get(\n                f\"{BASE_URL}/students\",\n                headers=headers,\n                params=params,\n                timeout=TIMEOUT\n            )\n        except requests.RequestException as e:\n            assert False, f\"RequestException occurred: {e}\"\n\n        assert response.status_code == 200, f\"Expected 200 OK but got {response.status_code}. Response: {response.text}\"\n        try:\n            data = response.json()\n        except ValueError:\n            assert False, \"Response is not valid JSON\"\n\n        students_list = None\n        if isinstance(data, dict):\n            if 'data' in data and isinstance(data['data'], list):\n                students_list = data['data']\n            elif 'students' in data and isinstance(data['students'], list):\n                students_list = data['students']\n            elif 'items' in data and isinstance(data['items'], list):\n                students_list = data['items']\n            else:\n                students_list = []\n        elif isinstance(data, list):\n            students_list = data\n        else:\n            students_list = []\n\n        assert isinstance(students_list, list), f\"Expected students list but got {type(students_list)}\"\n\n        if students_list:\n            for student in students_list:\n                assert isinstance(student, dict), f\"Student item is not a dict: {student}\"\n                for key in [\"first_name\", \"last_name\", \"admission_number\", \"class_id\"]:\n                    assert key in student, f\"Student missing expected key '{key}': {student}\"\n\n\ntest_get_students_list_with_filters()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 92, in <module>\n  File \"<string>\", line 32, in test_get_students_list_with_filters\n  File \"<string>\", line 23, in get_auth_token\nAssertionError: Login failed with status 419: {\n    \"message\": \"CSRF token mismatch.\",\n    \"exception\": \"Symfony\\\\Component\\\\HttpKernel\\\\Exception\\\\HttpException\",\n    \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Exceptions\\\\Handler.php\",\n    \"line\": 673,\n    \"trace\": [\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Exceptions\\\\Handler.php\",\n            \"line\": 616,\n            \"function\": \"prepareException\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Pipeline.php\",\n            \"line\": 51,\n            \"function\": \"render\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 224,\n            \"function\": \"handleException\",\n            \"class\": \"Illuminate\\\\Routing\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\View\\\\Middleware\\\\ShareErrorsFromSession.php\",\n            \"line\": 48,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\View\\\\Middleware\\\\ShareErrorsFromSession\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Session\\\\Middleware\\\\StartSession.php\",\n            \"line\": 120,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Session\\\\Middleware\\\\StartSession.php\",\n            \"line\": 63,\n            \"function\": \"handleStatefulRequest\",\n            \"class\": \"Illuminate\\\\Session\\\\Middleware\\\\StartSession\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Session\\\\Middleware\\\\StartSession\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Cookie\\\\Middleware\\\\AddQueuedCookiesToResponse.php\",\n            \"line\": 36,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Cookie\\\\Middleware\\\\AddQueuedCookiesToResponse\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Cookie\\\\Middleware\\\\EncryptCookies.php\",\n            \"line\": 74,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Cookie\\\\Middleware\\\\EncryptCookies\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 137,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Router.php\",\n            \"line\": 821,\n            \"function\": \"then\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Router.php\",\n            \"line\": 800,\n            \"function\": \"runRouteWithinStack\",\n            \"class\": \"Illuminate\\\\Routing\\\\Router\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Router.php\",\n            \"line\": 764,\n            \"function\": \"runRoute\",\n            \"class\": \"Illuminate\\\\Routing\\\\Router\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Router.php\",\n            \"line\": 753,\n            \"function\": \"dispatchToRoute\",\n            \"class\": \"Illuminate\\\\Routing\\\\Router\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Kernel.php\",\n            \"line\": 200,\n            \"function\": \"dispatch\",\n            \"class\": \"Illuminate\\\\Routing\\\\Router\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 180,\n            \"function\": \"Illuminate\\\\Foundation\\\\Http\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TransformsRequest.php\",\n            \"line\": 21,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\ConvertEmptyStringsToNull.php\",\n            \"line\": 31,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TransformsRequest\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\ConvertEmptyStringsToNull\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TransformsRequest.php\",\n            \"line\": 21,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TrimStrings.php\",\n            \"line\": 51,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TransformsRequest\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TrimStrings\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Http\\\\Middleware\\\\ValidatePostSize.php\",\n            \"line\": 27,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Http\\\\Middleware\\\\ValidatePostSize\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\PreventRequestsDuringMaintenance.php\",\n            \"line\": 109,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\PreventRequestsDuringMaintenance\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Http\\\\Middleware\\\\HandleCors.php\",\n            \"line\": 48,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Http\\\\Middleware\\\\HandleCors\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Http\\\\Middleware\\\\TrustProxies.php\",\n            \"line\": 58,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Http\\\\Middleware\\\\TrustProxies\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\InvokeDeferredCallbacks.php\",\n            \"line\": 22,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\InvokeDeferredCallbacks\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Http\\\\Middleware\\\\ValidatePathEncoding.php\",\n            \"line\": 26,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Http\\\\Middleware\\\\ValidatePathEncoding\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 137,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Kernel.php\",\n            \"line\": 175,\n            \"function\": \"then\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Kernel.php\",\n            \"line\": 144,\n            \"function\": \"sendRequestThroughRouter\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Application.php\",\n            \"line\": 1220,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\public\\\\index.php\",\n            \"line\": 20,\n            \"function\": \"handleRequest\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Application\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\resources\\\\server.php\",\n            \"line\": 23,\n            \"function\": \"require_once\"\n        }\n    ]\n}\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.028Z",
    "modified": "2026-01-22T07:29:25.563Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "3df4879f-9da8-47dd-b1e5-aa5c8d722a74",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC007-create new student",
    "description": "Test the /students POST endpoint to create a new student record with valid and invalid data, including required fields and relationships like family_id.",
    "code": "import requests\nfrom requests.auth import HTTPBasicAuth\n\nBASE_URL = \"http://localhost:8000\"\nUSERNAME = \"b.njogu@royalkingsschools.sc.ke\"\nPASSWORD = \"sRb8s3AAnkYxJ8q\"\nTIMEOUT = 30\n\ndef test_create_new_student():\n    auth = HTTPBasicAuth(USERNAME, PASSWORD)\n    headers = {\"Content-Type\": \"application/json\"}\n\n    # Helper to create a family to get a valid family_id\n    def create_family():\n        family_data = {}\n        resp = requests.post(f\"{BASE_URL}/families\", json=family_data, auth=auth, headers=headers, timeout=TIMEOUT)\n        assert resp.status_code in (200, 201), f\"Failed to create family, status code {resp.status_code}\"\n        resp_json = resp.json()\n        family_id = resp_json.get(\"id\")\n        assert family_id is not None, \"Response JSON missing 'id' for created family\"\n        return family_id\n\n    family_id = create_family()\n    assert family_id is not None, \"Failed to create family for student creation\"\n\n    student_payload_valid = {\n        \"first_name\": \"John\",\n        \"last_name\": \"Doe\",\n        \"admission_number\": \"ADM123456\",\n        \"class_id\": 1,\n        \"family_id\": family_id\n    }\n\n    # Test valid student creation\n    response = requests.post(f\"{BASE_URL}/students\", json=student_payload_valid, auth=auth, timeout=TIMEOUT, headers=headers)\n    assert response.status_code in (200, 201), f\"Expected 200 or 201, got {response.status_code}\"\n    resp_json = response.json()\n    assert \"id\" in resp_json, \"Response JSON missing 'id' for created student\"\n    student_id = resp_json[\"id\"]\n    assert resp_json[\"first_name\"] == student_payload_valid[\"first_name\"]\n    assert resp_json[\"last_name\"] == student_payload_valid[\"last_name\"]\n    assert resp_json[\"admission_number\"] == student_payload_valid[\"admission_number\"]\n    assert resp_json[\"family_id\"] == family_id\n\n    # Test invalid data: missing required field first_name\n    invalid_payload_missing_first_name = {\n        \"last_name\": \"Doe\",\n        \"admission_number\": \"ADM123457\",\n        \"class_id\": 1,\n        \"family_id\": family_id\n    }\n    response_invalid_1 = requests.post(f\"{BASE_URL}/students\", json=invalid_payload_missing_first_name, auth=auth, timeout=TIMEOUT, headers=headers)\n    assert response_invalid_1.status_code in (400, 422), f\"Expected 400 or 422 for missing first_name, got {response_invalid_1.status_code}\"\n\n    # Test invalid data: invalid family_id (non-existent)\n    invalid_payload_bad_family = {\n        \"first_name\": \"Jane\",\n        \"last_name\": \"Doe\",\n        \"admission_number\": \"ADM123458\",\n        \"class_id\": 1,\n        \"family_id\": 9999999\n    }\n    response_invalid_2 = requests.post(f\"{BASE_URL}/students\", json=invalid_payload_bad_family, auth=auth, timeout=TIMEOUT, headers=headers)\n    assert response_invalid_2.status_code in (400, 422), f\"Expected 400 or 422 for invalid family_id, got {response_invalid_2.status_code}\"\n\n    # Test invalid data: missing mandatory admission_number\n    invalid_payload_missing_adm = {\n        \"first_name\": \"Jane\",\n        \"last_name\": \"Doe\",\n        \"class_id\": 1,\n        \"family_id\": family_id\n    }\n    response_invalid_3 = requests.post(f\"{BASE_URL}/students\", json=invalid_payload_missing_adm, auth=auth, timeout=TIMEOUT, headers=headers)\n    assert response_invalid_3.status_code in (400, 422), f\"Expected 400 or 422 for missing admission_number, got {response_invalid_3.status_code}\"\n\n\ntest_create_new_student()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 77, in <module>\n  File \"<string>\", line 23, in test_create_new_student\n  File \"<string>\", line 17, in create_family\nAssertionError: Failed to create family, status code 405\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.035Z",
    "modified": "2026-01-22T07:29:54.198Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "259c1d12-40db-4f4e-9431-b4a9c97d7148",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC008-get student details",
    "description": "Test the /students/{id} GET endpoint to retrieve detailed information of a specific student by ID, including handling of non-existent IDs.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:8000\"\nTIMEOUT = 30\n\ndef test_get_student_details():\n    headers = {\n        \"Accept\": \"application/json\"\n    }\n\n    # Step 1: Create a new student to ensure we have a valid ID\n    student_data = {\n        \"first_name\": \"TestFirstName\",\n        \"last_name\": \"TestLastName\",\n        \"admission_number\": \"TEST123456\",\n        \"class_id\": 1  # Assuming class_id 1 exists; if not, this may need adjustment\n    }\n    student_id = None\n    try:\n        create_resp = requests.post(f\"{BASE_URL}/students\", json=student_data, headers=headers, timeout=TIMEOUT)\n        assert create_resp.status_code in (200, 201), f\"Expected 201/200 on student creation, got {create_resp.status_code}\"\n        create_resp_json = create_resp.json()\n        assert \"id\" in create_resp_json, \"Response JSON missing 'id' of created student\"\n        student_id = create_resp_json[\"id\"]\n\n        # Step 2: Retrieve the newly created student's details (success case)\n        get_resp = requests.get(f\"{BASE_URL}/students/{student_id}\", headers=headers, timeout=TIMEOUT)\n        assert get_resp.status_code == 200, f\"Expected 200 on getting student details, got {get_resp.status_code}\"\n        student_detail = get_resp.json()\n        # Basic validation on returned student data\n        assert isinstance(student_detail, dict), \"Student detail response is not a JSON object\"\n        assert student_detail.get(\"id\") == student_id, \"Returned student ID does not match requested ID\"\n        assert student_detail.get(\"first_name\") == student_data[\"first_name\"], \"Student first_name does not match\"\n        assert student_detail.get(\"last_name\") == student_data[\"last_name\"], \"Student last_name does not match\"\n        assert student_detail.get(\"admission_number\") == student_data[\"admission_number\"], \"Student admission_number does not match\"\n\n        # Step 3: Test retrieval of non-existent student ID\n        non_existent_id = 9999999999  # Large number unlikely to exist\n        if student_id == non_existent_id:\n            non_existent_id += 1  # Just in case\n        non_exist_resp = requests.get(f\"{BASE_URL}/students/{non_existent_id}\", headers=headers, timeout=TIMEOUT)\n        assert non_exist_resp.status_code == 404, f\"Expected 404 for non-existent student ID, got {non_exist_resp.status_code}\"\n\n    finally:\n        # Cleanup: skip deletion as DELETE endpoint not specified in PRD\n        pass\n\ntest_get_student_details()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 48, in <module>\n  File \"<string>\", line 21, in test_get_student_details\nAssertionError: Expected 201/200 on student creation, got 419\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.041Z",
    "modified": "2026-01-22T07:29:29.226Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "5f93905d-2966-443a-915a-583a9d349c75",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC009-update student information",
    "description": "Test the /students/{id} PUT endpoint to update existing student information with valid and invalid data, and verify proper error handling.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:8000\"\nHEADERS = {\"Content-Type\": \"application/json\", \"Authorization\": \"Bearer YOUR_ACCESS_TOKEN\"}\nTIMEOUT = 30\n\ndef test_update_student_information():\n    # Create a new student to update\n    student_create_payload = {\n        \"first_name\": \"TestFirst\",\n        \"last_name\": \"TestLast\",\n        \"admission_number\": \"ADM12345UPDATE\",\n        \"class_id\": 1,\n        \"family_id\": 1\n    }\n    \n    student_id = None\n    try:\n        res_create = requests.post(\n            f\"{BASE_URL}/students\",\n            json=student_create_payload,\n            headers=HEADERS,\n            timeout=TIMEOUT\n        )\n        assert res_create.status_code == 201, f\"Unexpected create status: {res_create.status_code}, {res_create.text}\"\n        student_data = res_create.json()\n        student_id = student_data.get(\"id\")\n        assert student_id is not None, \"Created student response missing ID\"\n        \n        # Update with valid data\n        update_payload_valid = {\n            \"first_name\": \"UpdatedFirst\",\n            \"last_name\": \"UpdatedLast\",\n            \"admission_number\": \"ADM12345UPDATE\",\n            \"class_id\": 2\n        }\n        res_update_valid = requests.put(\n            f\"{BASE_URL}/students/{student_id}\",\n            json=update_payload_valid,\n            headers=HEADERS,\n            timeout=TIMEOUT\n        )\n        assert res_update_valid.status_code == 200, f\"Update with valid data failed: {res_update_valid.status_code}, {res_update_valid.text}\"\n        updated_student = res_update_valid.json()\n        assert updated_student.get(\"first_name\") == \"UpdatedFirst\"\n        assert updated_student.get(\"last_name\") == \"UpdatedLast\"\n        assert updated_student.get(\"class_id\") == 2\n        \n        # Update with invalid data - e.g., invalid class_id (string instead of integer)\n        update_payload_invalid = {\n            \"first_name\": \"InvalidUpdate\",\n            \"last_name\": \"InvalidUpdate\",\n            \"admission_number\": \"ADM12345UPDATE\",\n            \"class_id\": \"invalid_class_id\"\n        }\n        res_update_invalid = requests.put(\n            f\"{BASE_URL}/students/{student_id}\",\n            json=update_payload_invalid,\n            headers=HEADERS,\n            timeout=TIMEOUT\n        )\n        # Expecting client error due to validation failure\n        assert res_update_invalid.status_code in {400, 422}, f\"Invalid update did not return expected error: {res_update_invalid.status_code}, {res_update_invalid.text}\"\n        \n        # Update non-existing student ID with valid data\n        non_existent_id = 99999999\n        res_update_nonexistent = requests.put(\n            f\"{BASE_URL}/students/{non_existent_id}\",\n            json=update_payload_valid,\n            headers=HEADERS,\n            timeout=TIMEOUT\n        )\n        # Expecting 404 not found or similar error\n        assert res_update_nonexistent.status_code == 404, f\"Updating non-existent student did not return 404: {res_update_nonexistent.status_code}, {res_update_nonexistent.text}\"\n        \n    finally:\n        # Cleanup: delete the created student if exists\n        if student_id:\n            try:\n                requests.delete(\n                    f\"{BASE_URL}/students/{student_id}\",\n                    headers=HEADERS,\n                    timeout=TIMEOUT\n                )\n            except Exception:\n                pass\n\ntest_update_student_information()\n",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 88, in <module>\n  File \"<string>\", line 25, in test_update_student_information\nAssertionError: Unexpected create status: 419, <!DOCTYPE html>\n<html lang=\"en\">\n    <head>\n                <meta charset=\"utf-8\">\n        <meta name=\"viewport\" content=\"width=device-width, initial-scale=1\">\n\n        <title>Page Expired | Royal Kings Premier School LTD</title>\n        <link rel=\"icon\" href=\"http://localhost:8000/images/logo.png\">\n\n        <style>\n            /*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}a{background-color:transparent}code{font-family:monospace,monospace;font-size:1em}[hidden]{display:none}html{font-family:system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;line-height:1.5}*,:after,:before{box-sizing:border-box;border:0 solid #e2e8f0}a{color:inherit;text-decoration:inherit}code{font-family:Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}svg,video{display:block;vertical-align:middle}video{max-width:100%;height:auto}.bg-white{--bg-opacity:1;background-color:#fff;background-color:rgba(255,255,255,var(--bg-opacity))}.bg-gray-100{--bg-opacity:1;background-color:#f7fafc;background-color:rgba(247,250,252,var(--bg-opacity))}.border-gray-200{--border-opacity:1;border-color:#edf2f7;border-color:rgba(237,242,247,var(--border-opacity))}.border-gray-400{--border-opacity:1;border-color:#cbd5e0;border-color:rgba(203,213,224,var(--border-opacity))}.border-t{border-top-width:1px}.border-r{border-right-width:1px}.flex{display:flex}.grid{display:grid}.hidden{display:none}.items-center{align-items:center}.justify-center{justify-content:center}.font-semibold{font-weight:600}.h-5{height:1.25rem}.h-8{height:2rem}.h-16{height:4rem}.text-sm{font-size:.875rem}.text-lg{font-size:1.125rem}.leading-7{line-height:1.75rem}.mx-auto{margin-left:auto;margin-right:auto}.ml-1{margin-left:.25rem}.mt-2{margin-top:.5rem}.mr-2{margin-right:.5rem}.ml-2{margin-left:.5rem}.mt-4{margin-top:1rem}.ml-4{margin-left:1rem}.mt-8{margin-top:2rem}.ml-12{margin-left:3rem}.-mt-px{margin-top:-1px}.max-w-xl{max-width:36rem}.max-w-6xl{max-width:72rem}.min-h-screen{min-height:100vh}.overflow-hidden{overflow:hidden}.p-6{padding:1.5rem}.py-4{padding-top:1rem;padding-bottom:1rem}.px-4{padding-left:1rem;padding-right:1rem}.px-6{padding-left:1.5rem;padding-right:1.5rem}.pt-8{padding-top:2rem}.fixed{position:fixed}.relative{position:relative}.top-0{top:0}.right-0{right:0}.shadow{box-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px 0 rgba(0,0,0,.06)}.text-center{text-align:center}.text-gray-200{--text-opacity:1;color:#edf2f7;color:rgba(237,242,247,var(--text-opacity))}.text-gray-300{--text-opacity:1;color:#e2e8f0;color:rgba(226,232,240,var(--text-opacity))}.text-gray-400{--text-opacity:1;color:#cbd5e0;color:rgba(203,213,224,var(--text-opacity))}.text-gray-500{--text-opacity:1;color:#a0aec0;color:rgba(160,174,192,var(--text-opacity))}.text-gray-600{--text-opacity:1;color:#718096;color:rgba(113,128,150,var(--text-opacity))}.text-gray-700{--text-opacity:1;color:#4a5568;color:rgba(74,85,104,var(--text-opacity))}.text-gray-900{--text-opacity:1;color:#1a202c;color:rgba(26,32,44,var(--text-opacity))}.uppercase{text-transform:uppercase}.underline{text-decoration:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.tracking-wider{letter-spacing:.05em}.w-5{width:1.25rem}.w-8{width:2rem}.w-auto{width:auto}.grid-cols-1{grid-template-columns:repeat(1,minmax(0,1fr))}@-webkit-keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@-webkit-keyframes ping{0%{transform:scale(1);opacity:1}75%,to{transform:scale(2);opacity:0}}@keyframes ping{0%{transform:scale(1);opacity:1}75%,to{transform:scale(2);opacity:0}}@-webkit-keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@keyframes pulse{0%,to{opacity:1}50%{opacity:.5}}@-webkit-keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(0);-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@keyframes bounce{0%,to{transform:translateY(-25%);-webkit-animation-timing-function:cubic-bezier(.8,0,1,1);animation-timing-function:cubic-bezier(.8,0,1,1)}50%{transform:translateY(0);-webkit-animation-timing-function:cubic-bezier(0,0,.2,1);animation-timing-function:cubic-bezier(0,0,.2,1)}}@media (min-width:640px){.sm\\:rounded-lg{border-radius:.5rem}.sm\\:block{display:block}.sm\\:items-center{align-items:center}.sm\\:justify-start{justify-content:flex-start}.sm\\:justify-between{justify-content:space-between}.sm\\:h-20{height:5rem}.sm\\:ml-0{margin-left:0}.sm\\:px-6{padding-left:1.5rem;padding-right:1.5rem}.sm\\:pt-0{padding-top:0}.sm\\:text-left{text-align:left}.sm\\:text-right{text-align:right}}@media (min-width:768px){.md\\:border-t-0{border-top-width:0}.md\\:border-l{border-left-width:1px}.md\\:grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}}@media (min-width:1024px){.lg\\:px-8{padding-left:2rem;padding-right:2rem}}@media (prefers-color-scheme:dark){.dark\\:bg-gray-800{--bg-opacity:1;background-color:#2d3748;background-color:rgba(45,55,72,var(--bg-opacity))}.dark\\:bg-gray-900{--bg-opacity:1;background-color:#1a202c;background-color:rgba(26,32,44,var(--bg-opacity))}.dark\\:border-gray-700{--border-opacity:1;border-color:#4a5568;border-color:rgba(74,85,104,var(--border-opacity))}.dark\\:text-white{--text-opacity:1;color:#fff;color:rgba(255,255,255,var(--text-opacity))}.dark\\:text-gray-400{--text-opacity:1;color:#cbd5e0;color:rgba(203,213,224,var(--text-opacity))}}\n        </style>\n\n        <style>\n            body {\n                font-family: ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, \"Noto Sans\", sans-serif, \"Apple Color Emoji\", \"Segoe UI Emoji\", \"Segoe UI Symbol\", \"Noto Color Emoji\";\n            }\n        </style>\n    </head>\n    <body class=\"antialiased\">\n        <div class=\"relative flex items-top justify-center min-h-screen bg-gray-100 dark:bg-gray-900 sm:items-center sm:pt-0\">\n            <div class=\"max-w-xl mx-auto sm:px-6 lg:px-8\">\n                <div class=\"flex items-center pt-8 sm:justify-start sm:pt-0\">\n                    <div class=\"px-4 text-lg text-gray-500 border-r border-gray-400 tracking-wider\">\n                        419                    </div>\n\n                    <div class=\"ml-4 text-lg text-gray-500 uppercase tracking-wider\">\n                        Page Expired                    </div>\n                </div>\n            </div>\n        </div>\n    </body>\n</html>\n\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.047Z",
    "modified": "2026-01-22T07:29:54.206Z"
  },
  {
    "projectId": "02b6111d-c6ad-413c-b0ea-182457eb3de2",
    "testId": "a627dd95-f72b-4d69-9c44-d40ff4d8a331",
    "userId": "34181498-70f1-7057-cc9a-c5a76968e12d",
    "title": "TC010-archive student record",
    "description": "Test the /students/{id}/archive POST endpoint to archive a student record, ensuring the student is marked as archived and no longer active.",
    "code": "import requests\n\nBASE_URL = \"http://localhost:8000\"\nTIMEOUT = 30\n\n\ndef test_archive_student_record():\n    session = requests.Session()\n    headers = {\n        \"Accept\": \"application/json\",\n        \"Content-Type\": \"application/json\"\n    }\n\n    # Step 0: Get CSRF token by visiting a GET route\n    csrf_resp = session.get(f\"{BASE_URL}/login\", headers=headers, timeout=TIMEOUT)\n    assert csrf_resp.status_code == 200, \\\n        f\"Failed to get CSRF token, status code {csrf_resp.status_code}, response: {csrf_resp.text}\"\n\n    # Extract CSRF token from cookies\n    csrf_token = session.cookies.get('XSRF-TOKEN')\n    assert csrf_token is not None, \"CSRF token missing in cookies\"\n\n    # Add CSRF token to headers for login\n    login_headers = headers.copy()\n    login_headers[\"X-CSRF-TOKEN\"] = csrf_token\n\n    # Step 1: Login to obtain authentication cookie and CSRF token\n    login_payload = {\n        \"email\": \"b.njogu@royalkingsschools.sc.ke\",\n        \"password\": \"sRb8s3AAnkYxJ8q\"\n    }\n\n    login_resp = session.post(f\"{BASE_URL}/login\", json=login_payload, headers=login_headers, timeout=TIMEOUT)\n    assert login_resp.status_code == 200, \\\n        f\"Login failed, status code {login_resp.status_code}, response: {login_resp.text}\"\n\n    student_payload = {\n        \"first_name\": \"TestFirstName\",\n        \"last_name\": \"TestLastName\",\n        \"admission_number\": \"ARCHIVE-TEST-001\",\n        \"class_id\": 1,\n        \"family_id\": None\n    }\n\n    student_id = None\n    try:\n        create_resp = session.post(\n            f\"{BASE_URL}/students\",\n            json=student_payload,\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        assert create_resp.status_code in (200, 201), \\\n            f\"Failed to create student, status code {create_resp.status_code}, response: {create_resp.text}\"\n\n        created_student = create_resp.json()\n        student_id = created_student.get(\"id\")\n        assert student_id is not None, \"No student ID returned on creation\"\n\n        # Step 2: Archive the created student\n        archive_resp = session.post(\n            f\"{BASE_URL}/students/{student_id}/archive\",\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        assert archive_resp.status_code == 200, \\\n            f\"Failed to archive student, status code {archive_resp.status_code}, response: {archive_resp.text}\"\n\n        # Step 3: Fetch student details to confirm archive status\n        get_resp = session.get(\n            f\"{BASE_URL}/students/{student_id}\",\n            headers=headers,\n            timeout=TIMEOUT\n        )\n        assert get_resp.status_code == 200, \\\n            f\"Failed to get student details, status code {get_resp.status_code}, response: {get_resp.text}\"\n\n        student_data = get_resp.json()\n\n        archived_flag = student_data.get(\"archived\")\n        status = student_data.get(\"status\")\n\n        # Assertions for archived state\n        assert (archived_flag is True) or (status and status.lower() == \"archived\"), \\\n            f\"Student not archived as expected. archived_flag={archived_flag}, status={status}\"\n\n        active_flag = student_data.get(\"active\")\n        if active_flag is not None:\n            assert active_flag is False, \"Student active flag should be False after archiving\"\n\n    finally:\n        if student_id is not None:\n            try:\n                session.delete(\n                    f\"{BASE_URL}/students/{student_id}\",\n                    headers=headers,\n                    timeout=TIMEOUT\n                )\n            except Exception:\n                pass\n\n\ntest_archive_student_record()",
    "testStatus": "FAILED",
    "testError": "Traceback (most recent call last):\n  File \"/var/task/handler.py\", line 258, in run_with_retry\n    exec(code, exec_env)\n  File \"<string>\", line 103, in <module>\n  File \"<string>\", line 34, in test_archive_student_record\nAssertionError: Login failed, status code 419, response: {\n    \"message\": \"CSRF token mismatch.\",\n    \"exception\": \"Symfony\\\\Component\\\\HttpKernel\\\\Exception\\\\HttpException\",\n    \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Exceptions\\\\Handler.php\",\n    \"line\": 673,\n    \"trace\": [\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Exceptions\\\\Handler.php\",\n            \"line\": 616,\n            \"function\": \"prepareException\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Pipeline.php\",\n            \"line\": 51,\n            \"function\": \"render\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Exceptions\\\\Handler\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 224,\n            \"function\": \"handleException\",\n            \"class\": \"Illuminate\\\\Routing\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\View\\\\Middleware\\\\ShareErrorsFromSession.php\",\n            \"line\": 48,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\View\\\\Middleware\\\\ShareErrorsFromSession\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Session\\\\Middleware\\\\StartSession.php\",\n            \"line\": 120,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Session\\\\Middleware\\\\StartSession.php\",\n            \"line\": 63,\n            \"function\": \"handleStatefulRequest\",\n            \"class\": \"Illuminate\\\\Session\\\\Middleware\\\\StartSession\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Session\\\\Middleware\\\\StartSession\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Cookie\\\\Middleware\\\\AddQueuedCookiesToResponse.php\",\n            \"line\": 36,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Cookie\\\\Middleware\\\\AddQueuedCookiesToResponse\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Cookie\\\\Middleware\\\\EncryptCookies.php\",\n            \"line\": 74,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Cookie\\\\Middleware\\\\EncryptCookies\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 137,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Router.php\",\n            \"line\": 821,\n            \"function\": \"then\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Router.php\",\n            \"line\": 800,\n            \"function\": \"runRouteWithinStack\",\n            \"class\": \"Illuminate\\\\Routing\\\\Router\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Router.php\",\n            \"line\": 764,\n            \"function\": \"runRoute\",\n            \"class\": \"Illuminate\\\\Routing\\\\Router\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Routing\\\\Router.php\",\n            \"line\": 753,\n            \"function\": \"dispatchToRoute\",\n            \"class\": \"Illuminate\\\\Routing\\\\Router\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Kernel.php\",\n            \"line\": 200,\n            \"function\": \"dispatch\",\n            \"class\": \"Illuminate\\\\Routing\\\\Router\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 180,\n            \"function\": \"Illuminate\\\\Foundation\\\\Http\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TransformsRequest.php\",\n            \"line\": 21,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\ConvertEmptyStringsToNull.php\",\n            \"line\": 31,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TransformsRequest\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\ConvertEmptyStringsToNull\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TransformsRequest.php\",\n            \"line\": 21,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TrimStrings.php\",\n            \"line\": 51,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TransformsRequest\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\TrimStrings\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Http\\\\Middleware\\\\ValidatePostSize.php\",\n            \"line\": 27,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Http\\\\Middleware\\\\ValidatePostSize\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\PreventRequestsDuringMaintenance.php\",\n            \"line\": 109,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\PreventRequestsDuringMaintenance\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Http\\\\Middleware\\\\HandleCors.php\",\n            \"line\": 48,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Http\\\\Middleware\\\\HandleCors\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Http\\\\Middleware\\\\TrustProxies.php\",\n            \"line\": 58,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Http\\\\Middleware\\\\TrustProxies\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\InvokeDeferredCallbacks.php\",\n            \"line\": 22,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Middleware\\\\InvokeDeferredCallbacks\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Http\\\\Middleware\\\\ValidatePathEncoding.php\",\n            \"line\": 26,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 219,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Http\\\\Middleware\\\\ValidatePathEncoding\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Pipeline\\\\Pipeline.php\",\n            \"line\": 137,\n            \"function\": \"Illuminate\\\\Pipeline\\\\{closure}\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Kernel.php\",\n            \"line\": 175,\n            \"function\": \"then\",\n            \"class\": \"Illuminate\\\\Pipeline\\\\Pipeline\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Http\\\\Kernel.php\",\n            \"line\": 144,\n            \"function\": \"sendRequestThroughRouter\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\Application.php\",\n            \"line\": 1220,\n            \"function\": \"handle\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Http\\\\Kernel\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\public\\\\index.php\",\n            \"line\": 20,\n            \"function\": \"handleRequest\",\n            \"class\": \"Illuminate\\\\Foundation\\\\Application\",\n            \"type\": \"->\"\n        },\n        {\n            \"file\": \"D:\\\\school-management-system2\\\\school-management-system2\\\\vendor\\\\laravel\\\\framework\\\\src\\\\Illuminate\\\\Foundation\\\\resources\\\\server.php\",\n            \"line\": 23,\n            \"function\": \"require_once\"\n        }\n    ]\n}\n",
    "testType": "BACKEND",
    "createFrom": "mcp",
    "created": "2026-01-22T07:27:05.053Z",
    "modified": "2026-01-22T07:29:54.192Z"
  }
]
